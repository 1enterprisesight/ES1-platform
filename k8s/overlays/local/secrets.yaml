# ===========================================================================
# Kubernetes Secrets for Local Development (Kind cluster)
# ===========================================================================
# WARNING: Never commit real secrets to version control.
# For production, generate with: ./scripts/generate-credentials.sh --format=k8s-secrets
#
# All CHANGE_ME values must be replaced before deploying to any non-local
# environment. Use generate-credentials.sh to produce secure values.
# ===========================================================================

---
# Main PostgreSQL credentials
apiVersion: v1
kind: Secret
metadata:
  name: postgres-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: database
type: Opaque
stringData:
  POSTGRES_USER: "engine_user"
  POSTGRES_PASSWORD: "CHANGE_ME"
  POSTGRES_DB: "engine_platform"

---
# AIML PostgreSQL credentials (pgvector)
apiVersion: v1
kind: Secret
metadata:
  name: aiml-postgres-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: database
type: Opaque
stringData:
  AIML_POSTGRES_USER: "aiml_user"
  AIML_POSTGRES_PASSWORD: "CHANGE_ME"
  AIML_POSTGRES_DB: "aiml"

---
# Platform Manager API secrets
apiVersion: v1
kind: Secret
metadata:
  name: platform-manager-secrets
  namespace: engine-platform
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: platform-manager
type: Opaque
stringData:
  DEFAULT_API_KEY: "CHANGE_ME"
  JWT_SECRET: "CHANGE_ME"
  POSTGRES_PASSWORD: "CHANGE_ME"
  AIML_POSTGRES_PASSWORD: "CHANGE_ME"

---
# Airflow secrets
apiVersion: v1
kind: Secret
metadata:
  name: airflow-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: airflow
type: Opaque
stringData:
  AIRFLOW_FERNET_KEY: "CHANGE_ME"
  AIRFLOW_WEBSERVER_SECRET: "CHANGE_ME"
  AIRFLOW_ADMIN_PASSWORD: "CHANGE_ME"
  POSTGRES_PASSWORD: "CHANGE_ME"

---
# Langfuse secrets
apiVersion: v1
kind: Secret
metadata:
  name: langfuse-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: langfuse
type: Opaque
stringData:
  LANGFUSE_NEXTAUTH_SECRET: "CHANGE_ME"
  LANGFUSE_SALT: "CHANGE_ME"
  LANGFUSE_INIT_USER_PASSWORD: "CHANGE_ME"
  LANGFUSE_INIT_PROJECT_PUBLIC_KEY: "CHANGE_ME"
  LANGFUSE_INIT_PROJECT_SECRET_KEY: "CHANGE_ME"
  POSTGRES_PASSWORD: "CHANGE_ME"

---
# n8n secrets
apiVersion: v1
kind: Secret
metadata:
  name: n8n-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: n8n
type: Opaque
stringData:
  N8N_DEFAULT_USER_PASSWORD: "CHANGE_ME"
  N8N_ENCRYPTION_KEY: "CHANGE_ME"
  POSTGRES_PASSWORD: "CHANGE_ME"

---
# Langflow secrets
apiVersion: v1
kind: Secret
metadata:
  name: langflow-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: langflow
type: Opaque
stringData:
  LANGFLOW_SUPERUSER_PASSWORD: "CHANGE_ME"
  POSTGRES_PASSWORD: "CHANGE_ME"

---
# Grafana secrets
apiVersion: v1
kind: Secret
metadata:
  name: grafana-secrets
  namespace: engine-infrastructure
  labels:
    app.kubernetes.io/part-of: engine-platform
    app.kubernetes.io/component: grafana
type: Opaque
stringData:
  GRAFANA_ADMIN_PASSWORD: "CHANGE_ME"
